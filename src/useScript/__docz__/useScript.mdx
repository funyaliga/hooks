---
name: useScript　
route: '/useScript'
---

import { Playground } from 'docz'
import { useScript } from "../../index";

# useScript

加载外部script

---

## API

```jsx
const [
  ready: bool
  status: 'idle' | 'loading' | 'ready' | 'error'
] = useScript(
  src: string,
  attrs: {},
);
```

### ready
是否加载完成

### status
加载状态 'idle' | 'loading' | 'ready' | 'error'

### src
js文件路径

### attrs
配置 `script` 标签的 `Attribute` 属性

---

## DEMO ##

<Playground>
  {() => {
    const url = 'https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'
    const [ready, status] = useScript(url, {
      async: true,
      'data-test': 'test'
    });
    const script = document.querySelector(`script[src="${url}"]`);
    return (
      <div>
        <div>ready?: {`${ready}`}</div>
        <div>加载状态：{status}</div>
        <div>script标签： 
          <div>{script && script.outerHTML}</div>
        </div>
      </div>
    )
  }}
</Playground>